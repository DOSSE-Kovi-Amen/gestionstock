import{_ as A,a as U}from"./Modal.b73f5a06.js";import{_ as z}from"./Datatable.vue.ca3ea79b.js";import{_ as j}from"./Spinner.d3bd0c23.js";import{u as F}from"./clientsStore.35576eed.js";import{_ as B}from"./AddClientModal.vue.f0143a9f.js";import{n as O,o as m,c as b,b as f,w as V,a as e,d,t as u,u as o,B as D,r as y,g as E,q as T,y as v,z as $,A as N,F as q,s as P}from"./entry.8274f21e.js";import"./FirestoreService.ba9c0b5d.js";const I={class:"modal-content text-left"},L={class:"flex p-4 bg-yellow-500 text-white justify-between pb-3"},R=e("h3",{class:"text-xl"},[e("i",{class:"fa-regular fa-eye"}),d(" Voir un client ")],-1),G=e("i",{class:"fa-solid fa-xmark"},null,-1),H=[G],J={style:{height:"80vh"},class:"modal-body pb-16 p-5 overflow-y-auto"},K=e("strong",null,"ID:",-1),Q=e("strong",null,"Nom:",-1),W=e("strong",null,"Code Client:",-1),X=e("strong",null,"Adresse:",-1),Y=e("strong",null,"Email:",-1),Z=e("strong",null,"Telephone:",-1),ee=e("strong",null,"Pays:",-1),se=e("strong",null,"Ville:",-1),te=e("strong",null,"Code postal:",-1),oe=e("strong",null,"Description:",-1),le=e("strong",null,"Date de création:",-1),ne=e("strong",null,"Date de modification:",-1),ae={class:"absolute bg-gray-100 w-full flex justify-end bottom-0 p-4"},de=e("i",{class:"fa-solid fa-close"},null,-1),ie=O({__name:"ViewClientModal",props:{isOpen:{type:Boolean},selectedData:{}},setup(x){return(n,i)=>{const g=A;return m(),b("div",null,[f(g,{"is-open":n.isOpen},{default:V(()=>{var p,t,c,r,l,_,h,s,C,w,k,a;return[e("div",I,[e("div",L,[R,e("button",{onClick:i[0]||(i[0]=S=>n.$emit("onClose")),class:"modal-close"},H)]),e("div",J,[e("li",null,[K,d(" "+u((p=n.selectedData)==null?void 0:p.id),1)]),e("li",null,[Q,d(" "+u((t=n.selectedData)==null?void 0:t.name),1)]),e("li",null,[W,d(" "+u((c=n.selectedData)==null?void 0:c.codeCli),1)]),e("li",null,[X,d(" "+u((r=n.selectedData)==null?void 0:r.address),1)]),e("li",null,[Y,d(" "+u((l=n.selectedData)==null?void 0:l.email),1)]),e("li",null,[Z,d(" "+u((_=n.selectedData)==null?void 0:_.telephone),1)]),e("li",null,[ee,d(" "+u((h=n.selectedData)==null?void 0:h.country),1)]),e("li",null,[se,d(" "+u((s=n.selectedData)==null?void 0:s.city),1)]),e("li",null,[te,d(" "+u((C=n.selectedData)==null?void 0:C.zipCode),1)]),e("li",null,[oe,d(" "+u((w=n.selectedData)==null?void 0:w.description),1)]),e("li",null,[le,d(" "+u(("formatDateFrench"in n?n.formatDateFrench:o(D))((k=n.selectedData)==null?void 0:k.createdAt)),1)]),e("li",null,[ne,d(" "+u(("formatDateFrench"in n?n.formatDateFrench:o(D))((a=n.selectedData)==null?void 0:a.updatedAt)),1)])]),e("div",ae,[e("button",{class:"bg-gray-200 text-black py-1 px-4 rounded-sm mr-2",onClick:i[1]||(i[1]=S=>n.$emit("onClose"))},[de,d(" Fermer ")])])])]}),_:1},8,["is-open"])])}}}),re={class:"modal-content text-left"},ce={class:"flex p-4 bg-blue-400 text-white justify-between pb-3"},ue=e("h3",{class:"text-xl"},[e("i",{class:"fa-solid fa-circle-plus"}),d(" Editer un client ")],-1),pe=e("i",{class:"fa-solid fa-xmark"},null,-1),me=[pe],_e={key:0,class:"flex bg-white h-64 w-full justify-center items-center"},fe={key:1},be=["onSubmit"],he={style:{height:"85vh"},class:"modal-body pb-16 p-5 overflow-y-auto"},ye={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ge={class:"mb-4"},ve=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"name"},"Nom (*) : ",-1),$e={class:"mb-4"},xe=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"codeCli"},"Code Client :",-1),Ce={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},we={class:"mb-4"},ke=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"email"},"Email :",-1),De={class:"mb-4"},Oe=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"telephone"},"Telephone (*) : ",-1),Ve={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Se={class:"mb-4"},Ae=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"zipCode"},"Code postal :",-1),je={class:"mb-4"},Fe=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"address"},"Adresse :",-1),Me={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ue={class:"mb-4"},ze=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"country"},"Pays :",-1),Be={class:"mb-4"},Ee=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"city"},"Ville :",-1),Te={class:"mb-4"},Ne=e("label",{for:"description",class:"block text-gray-700 font-bold mb-2"},"Description",-1),qe={class:"absolute bg-gray-100 w-full flex justify-end bottom-0 p-4"},Pe=e("i",{class:"fa-solid fa-close"},null,-1),Ie=e("button",{type:"submit",class:"btn-primary text-white py-2 px-4 rounded-sm"},[e("i",{class:"fa-solid fa-save"}),d(" Enregistrer ")],-1),Le=O({__name:"EditClientModal",props:{isOpen:{type:Boolean},selectedData:{}},emits:["onClose","onSuccess"],setup(x,{emit:n}){const i=x,g=F(),p=y(!1),t=y({codeCli:"",name:"",email:"",telephone:"",zipCode:"",address:"",description:"",country:"",city:""});E(()=>i.isOpen,(r,l)=>{r&&i.selectedData&&(t.value={...i.selectedData})});const c=async()=>{p.value=!0,i.selectedData&&await g.updateData(t.value,i.selectedData.id).then(r=>{r&&(console.log("=============status======================="),console.log(r),console.log("===================================="),n("onClose"),n("onSuccess","Catégorie mise à jour avec succès")),p.value=!1}),setTimeout(()=>{p.value=!1},15e3)};return(r,l)=>{const _=j,h=A;return m(),b("div",null,[f(h,{"is-open":r.isOpen},{default:V(()=>[e("div",re,[e("div",ce,[ue,e("button",{onClick:l[0]||(l[0]=s=>r.$emit("onClose")),class:"modal-close"},me)]),o(p)?(m(),b("div",_e,[f(_,{class:"h-12"})])):(m(),b("div",fe,[e("form",{onSubmit:T(c,["prevent"])},[e("div",he,[e("div",ye,[e("div",ge,[ve,v(e("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>o(t).name=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"name",name:"name",placeholder:"Nom",required:""},null,512),[[$,o(t).name]])]),e("div",$e,[xe,v(e("input",{"onUpdate:modelValue":l[2]||(l[2]=s=>o(t).codeCli=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"codeCli",name:"codeCli",placeholder:"Code Client",required:""},null,512),[[$,o(t).codeCli]])])]),e("div",Ce,[e("div",we,[ke,v(e("input",{"onUpdate:modelValue":l[3]||(l[3]=s=>o(t).email=s),class:"border rounded-md py-2 px-3 w-full",type:"email",id:"email",name:"email",placeholder:"Email"},null,512),[[$,o(t).email]])]),e("div",De,[Oe,v(e("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>o(t).telephone=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"telephone",name:"telephone",placeholder:"Téléphone",required:""},null,512),[[$,o(t).telephone]])])]),e("div",Ve,[e("div",Se,[Ae,v(e("input",{"onUpdate:modelValue":l[5]||(l[5]=s=>o(t).zipCode=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"zipCode",name:"zipCode",placeholder:"Code postal"},null,512),[[$,o(t).zipCode]])]),e("div",je,[Fe,v(e("input",{"onUpdate:modelValue":l[6]||(l[6]=s=>o(t).address=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"address",name:"address",placeholder:"Adresse"},null,512),[[$,o(t).address]])])]),e("div",Me,[e("div",Ue,[ze,v(e("input",{"onUpdate:modelValue":l[7]||(l[7]=s=>o(t).country=s),class:"border rounded-md py-2 px-3 w-full",type:"country",id:"country",name:"country",placeholder:"Pays"},null,512),[[$,o(t).country]])]),e("div",Be,[Ee,v(e("input",{"onUpdate:modelValue":l[8]||(l[8]=s=>o(t).city=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"city",name:"city",placeholder:"Ville"},null,512),[[$,o(t).city]])])]),e("div",Te,[Ne,v(e("textarea",{"onUpdate:modelValue":l[9]||(l[9]=s=>o(t).description=s),id:"description",name:"description",class:"w-full border rounded py-2 px-3 text-gray-700 focus:outline-none focus:border-blue-500",required:""},null,512),[[$,o(t).description]])])]),e("div",qe,[e("a",{class:"bg-gray-200 text-black py-2 px-4 rounded-sm mr-2",onClick:l[10]||(l[10]=s=>r.$emit("onClose"))},[Pe,d(" Fermer ")]),Ie])],40,be)]))])]),_:1},8,["is-open"])])}}}),Re={class:"modal-content text-left h-56"},Ge={class:"flex p-4 bg-red-500 text-white justify-between pb-3"},He=e("h3",{class:"text-xl"},"Confirmer la suppression",-1),Je=e("i",{class:"fa-solid fa-xmark"},null,-1),Ke=[Je],Qe={key:0,class:"flex bg-white h-full w-full justify-center items-center"},We={key:1},Xe={class:"modal-body p-5"},Ye={class:"absolute bg-gray-100 w-full flex justify-end bottom-0 p-4"},Ze=e("i",{class:"fa-solid fa-close"},null,-1),es=e("i",{class:"fa-solid fa-trash"},null,-1),ss=O({__name:"DeleteClientModal",props:{isOpen:{type:Boolean},selectedData:{}},emits:["onClose","onSuccess"],setup(x,{emit:n}){const i=y(!1),g=F(),p=async t=>{i.value=!0,g.deleteData(t).then(()=>{i.value=!1,n("onClose"),n("onSuccess","Client supprimé avec succès")})};return(t,c)=>{const r=j,l=A;return m(),b("div",null,[f(l,{"is-open":t.isOpen},{default:V(()=>{var _;return[e("div",Re,[e("div",Ge,[He,e("button",{onClick:c[0]||(c[0]=h=>t.$emit("onClose")),class:"modal-close"},Ke)]),o(i)?(m(),b("div",Qe,[f(r,{class:"h-12"})])):(m(),b("div",We,[e("div",Xe,[e("p",null,u(`Supprimer ${(_=t.selectedData)==null?void 0:_.name} ?`),1)]),e("div",Ye,[e("button",{class:"bg-gray-200 text-black py-1 px-4 rounded-sm mr-2",onClick:c[1]||(c[1]=h=>t.$emit("onClose"))},[Ze,d(" Fermer ")]),e("button",{onClick:c[2]||(c[2]=h=>{var s;return p(((s=t.selectedData)==null?void 0:s.id)??"")}),class:"btn-primary text-white py-1 px-4 rounded-sm"},[es,d(" Supprimer ")])])]))])]}),_:1},8,["is-open"])])}}}),ts=e("i",{class:"fa-solid fa-circle-plus"},null,-1),os={class:"p-5 bg-white w-full h-full shadow-2xl rounded-lg bg-opacity-25"},ls=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Nom"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Téléphone"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Actions")])],-1),ns={class:"bg-white text-gray-600 divide-y divide-gray-200"},as=["title"],ds={class:"px-6 py-4 whitespace-no-wrap"},is={class:"px-6 py-4 whitespace-no-wrap"},rs={class:"flex gap-2"},cs=["onClick"],us=e("i",{class:"fa-regular fa-eye"},null,-1),ps=[us],ms=["onClick"],_s=e("i",{class:"fa-regular fa-pen-to-square"},null,-1),fs=[_s],bs=["onClick"],hs=e("i",{class:"fa-regular fa-trash-can"},null,-1),ys=[hs],gs={key:1,class:"flex flex-col justify-center items-center"},vs=e("p",{class:"m-2"},"Chargement en cours...",-1),Vs=O({__name:"clients",setup(x){const n=F(),i=y(),g=y(!1),p=y(!1),t=y(!1),c=y(!1),r=y(!1),l=y(""),_=(h,s)=>{switch(i.value=h,s){case"read":p.value=!0;break;case"edit":c.value=!0;break;case"delete":t.value=!0;break}console.log("===================================="),console.log(p.value),console.log("====================================")};return(h,s)=>{const C=U,w=z,k=j;return m(),b("div",null,[f(C,{show:o(r),title:"alertTitle",message:o(l),onOnClose:s[0]||(s[0]=a=>r.value=!1)},null,8,["show","message"]),f(B,{onOnSuccess:s[1]||(s[1]=a=>{l.value=a,r.value=!0}),onOnClose:s[2]||(s[2]=a=>g.value=!1),"is-open":o(g)},null,8,["is-open"]),f(ie,{onOnClose:s[3]||(s[3]=a=>p.value=!1),"is-open":o(p),"selected-data":o(i)},null,8,["is-open","selected-data"]),f(Le,{onOnSuccess:s[4]||(s[4]=a=>{l.value=a,r.value=!0}),onOnClose:s[5]||(s[5]=a=>c.value=!1),"is-open":o(c),"selected-data":o(i)},null,8,["is-open","selected-data"]),f(ss,{onOnSuccess:s[6]||(s[6]=a=>{l.value=a,r.value=!0}),onOnClose:s[7]||(s[7]=a=>t.value=!1),"is-open":o(t),"selected-data":o(i)},null,8,["is-open","selected-data"]),e("button",{onClick:s[8]||(s[8]=a=>g.value=!0),class:"py-2 p-4 shadow-xl btn-primary my-4 text-white"},[ts,d(" Ajouter nouveau ")]),e("div",os,[o(n).loading?(m(),b("div",gs,[vs,f(k,{class:"h-12"})])):(m(),N(w,{key:0},{default:V(()=>[ls,e("tbody",ns,[(m(!0),b(q,null,P(o(n).clients,(a,S)=>(m(),b("tr",{key:S,title:`Créé le ${o(D)(a.createdAt)}
Modifié le ${o(D)(a.updatedAt)}}`},[e("td",ds,u(a.name),1),e("td",is,u(a.telephone),1),e("td",rs,[e("a",{class:"p-0.5 px-2 text-white bg-yellow-500 hover:bg-yellow-600 shadow-xl rounded-sm",onClick:M=>_(a,"read")},ps,8,cs),e("a",{class:"p-0.5 px-2 text-white bg-blue-500 hover:bg-blue-600 shadow-xl rounded-sm",onClick:M=>_(a,"edit")},fs,8,ms),e("a",{class:"p-0.5 px-2 text-white bg-red-500 hover:bg-red-600 shadow-xl rounded-sm",onClick:M=>_(a,"delete")},ys,8,bs)])],8,as))),128))])]),_:1}))])])}}});export{Vs as default};
