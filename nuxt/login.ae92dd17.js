import{_ as w}from"./Spinner.d3bd0c23.js";import{n as g,r as d,D as v,E as y,G as U,H as O,o as l,c,a as s,q as k,y as m,u,A as q,t as C,z as p,I as V}from"./entry.8274f21e.js";const E={class:"min-h-screen flex items-center justify-center bg-gray-200"},S={class:"bg-white p-8 rounded-lg shadow-lg w-full lg:w-1/3"},B=s("h2",{class:"text-2xl font-semibold mb-4"},"Connexion",-1),M=["onSubmit"],D={class:"mb-4"},j=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"emailOrUsername"},"Email :",-1),A={class:"mb-4"},R=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Mot de passe :",-1),z={class:"flex justify-center text-center"},G={key:0,class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full w-full",type:"submit"},H={class:"text-red-500 text-center mt-1"},F=g({__name:"login",setup(I){const r=d(!1),e={emailOrUsername:"",password:""},i={required:"Credentials required!",invalidCreds:"Credentials provided does not match to our records!"},a=d(""),_=v(),f=y(),b=U();O(()=>{b.query.sessionExpired});const h=async()=>{let t={};e.emailOrUsername!=""&&e.password!=""?(r.value=!0,V(e.emailOrUsername)?t={email:e.emailOrUsername,password:e.password}:t={username:e.emailOrUsername,password:e.password},_.signin(t).then(o=>{console.log("===================================="),console.log(o),console.log("===================================="),o?f.replace("/"):a.value=i.invalidCreds,r.value=!1})):a.value=i.required};return(t,o)=>{const x=w;return l(),c("div",E,[s("div",S,[B,s("form",{onSubmit:k(h,["prevent"])},[s("div",D,[j,m(s("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.emailOrUsername=n),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"emailOrUsername",name:"emailOrUsername",placeholder:"Votre email ou pseudo",required:""},null,512),[[p,e.emailOrUsername]])]),s("div",A,[R,m(s("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.password=n),class:"border rounded-md py-2 px-3 w-full",type:"password",id:"password",name:"password",placeholder:"Votre mot de passe",required:""},null,512),[[p,e.password]])]),s("div",z,[u(r)?(l(),q(x,{key:1,class:"h-8"})):(l(),c("button",G," Connexion "))]),s("p",H,C(u(a)),1)],40,M)])])}}});export{F as default};
