import{a as A}from"./Modal.b73f5a06.js";import{_ as M}from"./nuxt-link.fc2c726a.js";import{_ as D}from"./Datatable.vue.ca3ea79b.js";import{_ as O}from"./Spinner.d3bd0c23.js";import{n as S,r as n,G as B,H as R,o as l,c as d,b as c,u as s,a as e,w as g,A as q,d as N,F,s as V,B as h,t as a}from"./entry.8274f21e.js";import{_ as j,a as L}from"./DeleteCategoryModal.vue.6eb0e46d.js";import{u as T}from"./salesStore.97234934.js";import"./categoriesStore.5ad58280.js";import"./FirestoreService.ba9c0b5d.js";const E={class:"my-4"},G=e("i",{class:"fa-solid fa-circle-plus"},null,-1),H={class:"p-5 bg-white w-full h-full shadow-2xl rounded-lg bg-opacity-25"},P=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Référence"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Date"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Montant total"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Remise"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Montant payé"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Reliquat"),e("th",{class:"px-6 py-3 text-left text-sm font-bold"},"Actions")])],-1),z={class:"bg-white text-gray-600 divide-y divide-gray-200"},I=["title"],J={class:"px-6 py-4 whitespace-no-wrap"},K={class:"px-6 py-4 whitespace-no-wrap"},Q={class:"px-6 py-4 whitespace-no-wrap"},U={class:"px-6 py-4 whitespace-no-wrap"},W={class:"px-6 py-4 whitespace-no-wrap"},X={class:"px-6 py-4 whitespace-no-wrap"},Y={class:"flex gap-2"},Z=["onClick"],ee=e("i",{class:"fa-regular fa-eye"},null,-1),te=[ee],se=["onClick"],oe=e("i",{class:"fa-regular fa-pen-to-square"},null,-1),ae=[oe],ne=["onClick"],le=e("i",{class:"fa-regular fa-trash-can"},null,-1),ce=[le],ie={key:1,class:"flex flex-col justify-center items-center"},re=e("p",{class:"m-2"},"Chargement en cours...",-1),ge=S({__name:"index",setup(de){const m=T(),p=n(),i=n(!1),_=n(!1),r=n(!1),u=n(""),x=B();R(()=>{x.query.showAlert==="true"&&(r.value=!0,u.value=x.query.alertMessage)});const f=(w,o)=>{switch(p.value=w,o){case"read":i.value=!0;break;case"delete":_.value=!0;break}console.log("===================================="),console.log(i.value),console.log("====================================")};return(w,o)=>{const v=A,b=M,k=D,C=O;return l(),d("div",null,[c(v,{show:s(r),title:"alertTitle",message:s(u),onOnClose:o[0]||(o[0]=t=>r.value=!1)},null,8,["show","message"]),c(j,{onOnClose:o[1]||(o[1]=t=>i.value=!1),"is-open":s(i),"selected-data":s(p)},null,8,["is-open","selected-data"]),c(L,{onOnSuccess:o[2]||(o[2]=t=>{u.value=t,r.value=!0}),onOnClose:o[3]||(o[3]=t=>_.value=!1),"is-open":s(_),"selected-data":s(p)},null,8,["is-open","selected-data"]),e("div",E,[c(b,{to:"/sales/create",class:"py-2 p-4 shadow-xl btn-primary text-white"},{default:g(()=>[G,N(" Ajouter nouveau")]),_:1})]),e("div",H,[s(m).loading?(l(),d("div",ie,[re,c(C,{class:"h-12"})])):(l(),q(k,{key:0},{default:g(()=>[P,e("tbody",z,[(l(!0),d(F,null,V(s(m).sales,(t,$)=>(l(),d("tr",{key:$,title:`Créé le ${s(h)(t.createdAt)}
Modifié le ${s(h)(t.updatedAt)}}`},[e("td",J,a(t.reference),1),e("td",K,a(s(h)(t.createdAt)),1),e("td",Q,a(t.totalAmount),1),e("td",U,a(t.discount),1),e("td",W,a(t.amountPaid),1),e("td",X,a(t.change),1),e("td",Y,[e("a",{class:"p-0.5 px-2 text-white bg-yellow-500 hover:bg-yellow-600 shadow-xl rounded-sm",onClick:y=>f(t,"read")},te,8,Z),e("a",{class:"p-0.5 px-2 text-white bg-blue-500 hover:bg-blue-600 shadow-xl rounded-sm",onClick:y=>f(t,"edit")},ae,8,se),e("a",{class:"p-0.5 px-2 text-white bg-red-500 hover:bg-red-600 shadow-xl rounded-sm",onClick:y=>f(t,"delete")},ce,8,ne)])],8,I))),128))])]),_:1}))])])}}});export{ge as default};
