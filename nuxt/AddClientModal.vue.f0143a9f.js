import{_ as v}from"./Spinner.d3bd0c23.js";import{_ as g}from"./Modal.b73f5a06.js";import{u as C}from"./clientsStore.35576eed.js";import{n as w,r as m,o as r,c,b,w as k,a as e,u as l,q as V,y as d,z as n,d as p}from"./entry.8274f21e.js";const U={class:"modal-content text-left"},z={class:"flex p-4 bg-blue-400 text-white justify-between pb-3"},S=e("h3",{class:"text-xl"},[e("i",{class:"fa-solid fa-circle-plus"}),p(" Ajouter un client ")],-1),j=e("i",{class:"fa-solid fa-xmark"},null,-1),q=[j],N={key:0,class:"flex bg-white h-64 w-full justify-center items-center"},T={key:1},A=["onSubmit"],B={style:{height:"85vh"},class:"modal-body pb-16 p-5 overflow-y-auto"},D={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},E={class:"mb-4"},M=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"name"},"Nom (*) : ",-1),$={class:"mb-4"},F=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"codeCli"},"Code Client :",-1),O={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},P={class:"mb-4"},G=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"email"},"Email :",-1),H={class:"mb-4"},I=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"telephone"},"Telephone (*) : ",-1),J={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},K={class:"mb-4"},L=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"zipCode"},"Code postal :",-1),Q={class:"mb-4"},R=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"address"},"Adresse :",-1),W={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},X={class:"mb-4"},Y=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"country"},"Pays :",-1),Z={class:"mb-4"},ee=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"city"},"Ville :",-1),oe={class:"mb-4"},te=e("label",{for:"description",class:"block text-gray-700 font-bold mb-2"},"Description",-1),se={class:"absolute bg-gray-100 w-full flex justify-end bottom-0 p-4"},le=e("i",{class:"fa-solid fa-close"},null,-1),de=e("button",{type:"submit",class:"btn-primary text-white py-2 px-4 rounded-sm"},[e("i",{class:"fa-solid fa-save"}),p(" Enregistrer ")],-1),ce=w({__name:"AddClientModal",props:{isOpen:{type:Boolean,required:!0,default:!1}},emits:["onClose","onSuccess"],setup(_,{emit:u}){const f=C(),i=m(!1),o=m({codeCli:"",name:"",email:"",telephone:"",zipCode:"",address:"",description:"",country:"",city:""}),y=async()=>{i.value=!0,await f.postData(o.value).then(a=>{a&&(u("onClose"),u("onSuccess","Client ajouté avec succès"),o.value.name="",o.value.address="",o.value.city="",o.value.codeCli="",o.value.country="",o.value.zipCode="",o.value.email="",o.value.description,o.value.telephone=""),i.value=!1}),setTimeout(()=>{i.value=!1},15e3)};return(a,t)=>{const x=v,h=g;return r(),c("div",null,[b(h,{"is-open":_.isOpen},{default:k(()=>[e("div",U,[e("div",z,[S,e("button",{onClick:t[0]||(t[0]=s=>a.$emit("onClose")),class:"modal-close"},q)]),l(i)?(r(),c("div",N,[b(x,{class:"h-12"})])):(r(),c("div",T,[e("form",{onSubmit:V(y,["prevent"])},[e("div",B,[e("div",D,[e("div",E,[M,d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(o).name=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"name",name:"name",placeholder:"Nom",required:""},null,512),[[n,l(o).name]])]),e("div",$,[F,d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l(o).codeCli=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"codeCli",name:"codeCli",placeholder:"Code Client",required:""},null,512),[[n,l(o).codeCli]])])]),e("div",O,[e("div",P,[G,d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).email=s),class:"border rounded-md py-2 px-3 w-full",type:"email",id:"email",name:"email",placeholder:"Email"},null,512),[[n,l(o).email]])]),e("div",H,[I,d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).telephone=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"telephone",name:"telephone",placeholder:"Téléphone",required:""},null,512),[[n,l(o).telephone]])])]),e("div",J,[e("div",K,[L,d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l(o).zipCode=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"zipCode",name:"zipCode",placeholder:"Code postal"},null,512),[[n,l(o).zipCode]])]),e("div",Q,[R,d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l(o).address=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"address",name:"address",placeholder:"Adresse"},null,512),[[n,l(o).address]])])]),e("div",W,[e("div",X,[Y,d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l(o).country=s),class:"border rounded-md py-2 px-3 w-full",type:"country",id:"country",name:"country",placeholder:"Pays"},null,512),[[n,l(o).country]])]),e("div",Z,[ee,d(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l(o).city=s),class:"border rounded-md py-2 px-3 w-full",type:"text",id:"city",name:"city",placeholder:"Ville"},null,512),[[n,l(o).city]])])]),e("div",oe,[te,d(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=s=>l(o).description=s),id:"description",name:"description",class:"w-full border rounded py-2 px-3 text-gray-700 focus:outline-none focus:border-blue-500"},null,512),[[n,l(o).description]])])]),e("div",se,[e("a",{class:"bg-gray-200 text-black py-2 px-4 rounded-sm mr-2",onClick:t[10]||(t[10]=s=>a.$emit("onClose"))},[le,p(" Fermer ")]),de])],40,A)]))])]),_:1},8,["is-open"])])}}});export{ce as _};
